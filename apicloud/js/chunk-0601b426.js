(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0601b426"],{"0cf8":function(t,i,n){"use strict";var e=n("4579"),a=n.n(e),r=n("e81a"),o=n.n(r),s={name:"weixinShare",components:{vueQr:a.a},data:function(){return{showPop:!1,vueQrTxt:"",account:"",imgUrlArr:[],top:0}},mounted:function(){var t=this.$store.state.systemType;"android"==t&&(this.top+=25),"ios"==t&&(this.top+=30,this.searchEmptyShow=!0),this.vueQrTxt=this.$envconfig.baseImgUrl+"/index/index/share?spread="+JSON.parse(this.$METHOD.getStore("userInfo")).account,this.account=JSON.parse(this.$METHOD.getStore("userInfo")).account},methods:{onClickLeft:function(){this.showPop=!1},WEIXINShare:function(){this.generatorImage("session")},PYQShare:function(){this.generatorImage("timeline")},generatorImage:function(t){var i=this;o()(i.$refs.capture,{useCORS:!0}).then((function(n){i.$SERVER.qrcode({base64_img:n.toDataURL()}).then((function(n){var e=i.$envconfig.baseImgUrl+n.data,a=(new Date).getTime();api.download({url:e,savePath:"fs://"+a+".jpg",report:!0,cache:!0,allowResume:!0},(function(n,e){if(1==n.state){var r=api.require("wx");r.shareImage({apiKey:"wx3296cb6866fecb83",scene:t,contentUrl:"fs://"+a+".jpg"},(function(t,n){t.status?i.$toast.success("分享成功"):i.$toast.fail("分享失败"),i.showPop=!1}))}}))}))}))}}},c=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"weixinShare"},[n("van-overlay",{attrs:{show:t.showPop,"z-index":"9999"}},[n("van-nav-bar",{style:"margin-top:"+t.top+"px;",attrs:{title:"微信","left-text":"关闭"},on:{"click-left":t.onClickLeft}}),t._v(" "),n("div",{ref:"capture",staticStyle:{padding:"0.3rem 0"}},[n("van-swipe",{staticClass:"my-swipe",attrs:{"show-indicators":!1}},t._l(t.imgUrlArr,(function(t,i){return n("van-swipe-item",{key:i},[n("img",{staticClass:"imgBox",attrs:{src:t,alt:""}})])})),1),t._v(" "),n("div",{staticClass:"qrcodeBox"},[n("vue-qr",{attrs:{text:t.vueQrTxt,size:100}}),t._v(" "),n("p",[t._v("邀请人: "+t._s(t.account))])],1)],1),t._v(" "),n("div",{staticStyle:{"margin-top":"0.5rem"}},[n("van-button",{attrs:{round:"",type:"info",icon:"wechat"},on:{click:t.WEIXINShare}},[t._v("微信分享")]),t._v(" "),n("van-button",{attrs:{round:"",type:"info",icon:"wechat"},on:{click:t.PYQShare}},[t._v("朋友圈分享")])],1)],1)],1)},d=[],l=n("d082");function u(t){n("fb53")}var g=!1,f=u,m=null,p=null,v=Object(l["a"])(s,c,d,g,f,m,p);i["a"]=v.exports},"1ae6":function(t,i,n){i=t.exports=n("690e")(!1),i.push([t.i,"\n.copywriting {\n  padding: 0 0.3rem 0.52rem;\n}\n.copywriting .baseBanner {\n  margin: 0.3rem 0;\n  text-align: center;\n}\n.copywriting .baseBanner img {\n  max-width: 100%;\n  border-radius: 0.2rem;\n}\n.copywriting .copywritingList {\n  padding: 0.3rem;\n  background: #fff;\n  border-radius: 0.2rem;\n  margin-bottom: 0.3rem;\n}\n.copywriting .copywritingList .copywritingTitle {\n  height: 0.82rem;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.copywriting .copywritingList .copywritingTitle img {\n  width: 0.82rem;\n  height: 100%;\n  border-radius: 50%;\n  margin-right: 0.2rem;\n}\n.copywriting .copywritingList .copywritingTitle .van-button {\n  width: 1.8rem;\n  height: 0.56rem;\n  line-height: 0.56rem;\n  font-size: 0.26rem;\n  padding: 0;\n  font-family: PingFang-SC-Medium;\n  color: #ff5e1c;\n}\n.copywriting .copywritingList .copywritingTitle .integralPlatform {\n  width: 55%;\n}\n.copywriting .copywritingList .copywritingTitle .integralPlatform p:nth-child(1) {\n  font-family: PingFang-SC-Medium;\n  font-size: 0.3rem;\n  color: #333333;\n}\n.copywriting .copywritingList .copywritingTitle .integralPlatform p:nth-child(2) {\n  font-family: PingFang-SC-Medium;\n  font-size: 0.24rem;\n  color: #999999;\n}\n.copywriting .copywritingList .copywritingCon {\n  font-family: PingFang-SC-Medium;\n  font-size: 0.26rem;\n  color: #666666;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n  overflow: hidden;\n  margin: 0.2rem 0.1rem;\n}\n.copywriting .copywritingList .copywritingImg {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-justify-content: space-around;\n      -ms-flex-pack: distribute;\n          justify-content: space-around;\n}\n.copywriting .copywritingList .copywritingImg div {\n  width: 1.92rem;\n  height: 1.92rem;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center center;\n}\n",""])},"1fc9":function(t,i,n){var e=n("777b");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var a=n("85cb").default;a("c8a03fd6",e,!0,{})},3425:function(t,i,n){"use strict";n.r(i);n("9a33"),n("5cb4"),n("6d57"),n("ff21");var e={name:"copywriting",components:{},data:function(){return{list:[],loading:!1,finished:!1,page:1,itemData:{}}},props:{active:"",share_advert:{},addNum:{type:Boolean,default:function(){return!1}}},methods:{onLoad:function(){var t=this;this.$SERVER.dynamicList(this.active,this.page,10).then((function(i){1==i.code&&(i.data.forEach((function(i){i.surface_image=t.$envconfig.baseImgUrl+i.surface_image;var n=[];if(i.images)if(-1==i.images.indexOf(","))n.push(t.$envconfig.baseImgUrl+i.images);else{var e=i.images.split(",");e.forEach((function(i){i=t.$envconfig.baseImgUrl+i,n.push(i)}))}i.imageArr=n,t.list.push(i)})),t.loading=!1,t.page++,i.data&&i.data.length<=0&&(t.finished=!0))}))},jumpDetail:function(t){this.$router.push({name:"softArticleDetails",query:{id:t.id}})},share:function(t){var i=this;this.itemData=t,this.$SERVER.addShareNum(this.itemData.id).then((function(t){i.page=1,i.list=[],i.onLoad()})),this.$emit("openShare",t)}}},a=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"copywriting"},[n("div",{staticClass:"baseBanner"},[n("img",{attrs:{src:t.share_advert.surface_image,alt:""}})]),t._v(" "),n("div",[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了",offset:"30"},on:{load:t.onLoad},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},t._l(t.list,(function(i){return n("div",{key:i.id,staticClass:"copywritingList",attrs:{title:i},on:{click:function(n){return t.jumpDetail(i)}}},[n("div",{staticClass:"copywritingTitle"},[n("img",{attrs:{src:i.surface_image,alt:""}}),t._v(" "),n("div",{staticClass:"integralPlatform"},[n("p",[t._v(t._s(i.title))]),t._v(" "),n("p",[t._v(t._s(i.add_time_text))])]),t._v(" "),n("van-button",{attrs:{plain:"",round:"",type:"primary",color:"#ff5e1c"},on:{click:function(n){return n.stopPropagation(),t.share(i)}}},[t._v("分享 "+t._s(i.share_num))])],1),t._v(" "),n("div",{staticClass:"copywritingCon"},[n("div",{domProps:{innerHTML:t._s(i.content)}})]),t._v(" "),n("div",{staticClass:"copywritingImg"},t._l(i.imageArr,(function(i,e){return n("div",{key:e,style:"background-image: url("+i+");",on:{click:function(n){return n.stopPropagation(),t.$router.push({name:"imagesView",query:{url:i}})}}})})),0)])})),0)],1)])},r=[],o=n("d082");function s(t){n("d7de")}var c=!1,d=s,l=null,u=null,g=Object(o["a"])(e,a,r,c,d,l,u),f=g.exports,m={name:"videoModule",data:function(){return{list:[],loading:!1,finished:!1,page:1}},props:{active:"",share_advert:{}},methods:{onLoad:function(){var t=this;this.$SERVER.dynamicList(this.active,this.page,10).then((function(i){1==i.code&&(i.data.forEach((function(i){i.surface_image=t.$envconfig.baseImgUrl+i.surface_image,t.list.push(i)})),t.loading=!1,t.page++,i.data&&i.data.length<=0&&(t.finished=!0))}))},broadcast:function(t){var i=this;this.$router.push({name:"video",query:{id:t}}),this.$SERVER.addShareNum(t).then((function(t){1==t.code&&(i.page=1,i.list=[],i.onLoad())}))}}},p=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"videoModule"},[n("div",{staticClass:"baseBanner"},[n("img",{attrs:{src:t.share_advert.surface_image,alt:""}})]),t._v(" "),n("div",{staticClass:"videoList"},[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了",offset:"30"},on:{load:t.onLoad},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},[n("van-grid",{attrs:{gutter:"0.18rem","column-num":2}},t._l(t.list,(function(i,e){return n("van-grid-item",{key:e,on:{click:function(n){return t.broadcast(i.id)}}},[n("div",{staticClass:"imgBox",style:"background-image: url("+i.surface_image+");",on:{click:function(n){return n.stopPropagation(),t.$router.push({name:"video",query:{id:i.id}})}}}),t._v(" "),n("div",{staticClass:"videoListTxt"},[n("p",[t._v(t._s(i.title))]),t._v(" "),n("p",[t._v("播放量："+t._s(i.share_num))])])])})),1)],1)],1)])},v=[];function h(t){n("5352")}var b=!1,w=h,y=null,x=null,_=Object(o["a"])(m,p,v,b,w,y,x),k=_.exports,S=n("0cf8"),$={name:"share",components:{copywriting:f,videoModule:k,weixinShare:S["a"]},data:function(){return{top:0,active:1,tabs:[],share_advert:{},itemData:{},addNum:!1}},mounted:function(){var t=this,i=this.$store.state.systemType;"android"==i&&(this.top=25),"ios"==i&&(this.top=40),this.$route.query.active?this.active=this.$route.query.active:this.active=1,this.$SERVER.getCategory().then((function(i){1==i.code?t.tabs=i.data:t.tabs=[]})),this.$SERVER.danye("share_advert").then((function(i){i.data.surface_image=t.$envconfig.baseImgUrl+i.data.surface_image,t.share_advert=i.data}))},methods:{openShare:function(t){this.itemData=t,this.$refs.weixinShare.showPop=!0,this.$refs.weixinShare.imgUrlArr=this.$METHOD.tailoringString(this.itemData.images)}}},L=function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("div",{staticClass:"container",attrs:{id:"share"}},[n("div",{style:"padding-top: "+t.top+"px;background: #fff;"}),t._v(" "),n("div",{staticClass:"main"},[n("van-tabs",{staticClass:"whiteVanTabs",attrs:{swipeable:"",sticky:"",background:"#39435a","title-inactive-color":"#fff","title-active-color":"#fff",animated:"","offset-top":t.top},model:{value:t.active,callback:function(i){t.active=i},expression:"active"}},t._l(t.tabs,(function(i){return n("van-tab",{key:i.id,attrs:{title:i.name,name:i.id}},["视频"==i.name?n("videoModule",{attrs:{active:t.active,share_advert:t.share_advert}}):n("copywriting",{ref:"copywriting",refInFor:!0,attrs:{active:t.active,share_advert:t.share_advert,addNum:t.addNum},on:{openShare:t.openShare}})],1)})),1)],1),t._v(" "),n("weixin-share",{ref:"weixinShare"})],1)},C=[];function E(t){n("1fc9")}var T=!1,I=E,M=null,P=null,R=Object(o["a"])($,L,C,T,I,M,P);i["default"]=R.exports},5352:function(t,i,n){var e=n("8a2b");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var a=n("85cb").default;a("4f9b7d7d",e,!0,{})},"777b":function(t,i,n){i=t.exports=n("690e")(!1),i.push([t.i,"\n#share {\n  font-size: 0.26rem;\n}\n#share .videoBox {\n  width: 100%;\n  height: 5rem;\n}\n",""])},"8a2b":function(t,i,n){i=t.exports=n("690e")(!1),i.push([t.i,"\n.videoModule {\n  padding: 0 0.3rem 0.52rem;\n}\n.videoModule .baseBanner {\n  margin: 0.3rem 0;\n  text-align: center;\n}\n.videoModule .baseBanner img {\n  max-width: 100%;\n  border-radius: 0.2rem;\n}\n.videoModule .videoList .van-grid-item__content {\n  padding: 0;\n}\n.videoModule .videoList .van-grid-item__content--center {\n  -webkit-box-align: baseline;\n  -webkit-align-items: baseline;\n      -ms-flex-align: baseline;\n          align-items: baseline;\n  border-radius: 0.25rem;\n}\n.videoModule .videoList .imgBox {\n  height: 2.4rem;\n  width: 100%;\n  border-radius: 0.25rem;\n  background-size: cover;\n  background-repeat: no-repeat;\n  background-position: center center;\n}\n.videoModule .videoList .videoListTxt {\n  padding: 0.3rem 0.25rem;\n}\n.videoModule .videoList .videoListTxt p:nth-child(1) {\n  margin-bottom: 0.1rem;\n  font-size: 0.28rem;\n  color: #333;\n}\n.videoModule .videoList .videoListTxt p:nth-child(2) {\n  font-size: 0.24rem;\n  color: #999999;\n}\n",""])},d7de:function(t,i,n){var e=n("1ae6");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var a=n("85cb").default;a("31331d7d",e,!0,{})},fa26:function(t,i,n){i=t.exports=n("690e")(!1),i.push([t.i,"\n.weixinShare .van-overlay {\n  text-align: center;\n  background: #fff;\n}\n.weixinShare .van-overlay .van-nav-bar {\n  border-bottom: 0.02rem solid #ccc;\n  margin-bottom: 0.3rem;\n}\n.weixinShare .van-overlay .my-swipe .van-swipe-item .imgBox {\n  max-width: 55%;\n}\n.weixinShare .van-overlay .van-button {\n  background-color: #4caf50;\n  border: 0.02rem solid #4caf50;\n  margin: 0 0.3rem;\n}\n",""])},fb53:function(t,i,n){var e=n("fa26");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var a=n("85cb").default;a("3209561f",e,!0,{})}}]);